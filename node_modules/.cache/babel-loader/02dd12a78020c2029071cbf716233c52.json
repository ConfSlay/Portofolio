{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ricar\\\\Desktop\\\\nodejs-website\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ricar\\\\Desktop\\\\nodejs-website\\\\client\\\\src\\\\components\\\\Project\\\\GetOneProject.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport ProjectDataService from \"../../services/project.service\";\nimport App from \"../../App\";\nexport default function GetOneProject(props) {\n  //----------------------------REDIRECTION APRES VALIDATION du form-----------------------\n  var navigate = useNavigate();\n  useEffect(function () {\n    //si le composant a été updated d'une manière quelconque (state) alors ca s'execute\n    if (redirect === true) {\n      navigate('/Projects');\n    }\n  }); // ----------------- Initialize State -------------------\n\n  var _useState = useState( //déclare project en tant que liste key/value\n  {\n    project_id: null,\n    project_name: \"\",\n    project_technologies: \"\",\n    project_description: \"\",\n    project_thumbnail_filename: \"\",\n    project_is_file_format: true,\n    project_release_filename: \"\",\n    project_release_url: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      project = _useState2[0],\n      setProject = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      redirect = _useState4[0],\n      setRedirect = _useState4[1]; // ----------------- Get request params -------------------\n\n\n  var _useParams = useParams(),\n      id = _useParams.id; //Retrouve le paramètre id\n  // useEffect = quand le composant est inétgré dans le DOM \n\n\n  useEffect(function () {\n    getProject(id);\n  }, []); //notice the empty array here so it only happens once\n\n  var getProject = function getProject(id) {\n    ProjectDataService.get(id).then(function (response) {\n      setProject(response.data);\n      console.log(response.data);\n    }).catch(function (e) {\n      console.log(e);\n    });\n  };\n\n  var deleteProject = function deleteProject() {\n    //(parseInt(e.data-id, 10))\n    ProjectDataService.delete({\n      id: id\n    }).then(function (response) {\n      console.log(response.data);\n      setRedirect(true); //Redirection vers page virtuelle Project\n    }).catch(function (e) {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper-discover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-discover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"item-discover deleteProjectButton-project alertDisplayerDelete_JS\",\n    onClick: deleteProject,\n    \"data-id\": id,\n    \"data-page\": \"{{ path('app_delete_project',{id: project.id, _csrf_token: csrf_token('delete')}) }}\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Supprimer ce projet\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"item-discover title-discover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, project.project_name), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"item-discover tag-discover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, project.project_technologies), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"item-discover description-discover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, project.project_description))));\n}","map":{"version":3,"sources":["C:/Users/ricar/Desktop/nodejs-website/client/src/components/Project/GetOneProject.js"],"names":["React","useState","useEffect","Link","useParams","useNavigate","ProjectDataService","App","GetOneProject","props","navigate","redirect","project_id","project_name","project_technologies","project_description","project_thumbnail_filename","project_is_file_format","project_release_filename","project_release_url","project","setProject","setRedirect","id","getProject","get","then","response","data","console","log","catch","e","deleteProject","delete"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link , useParams , useNavigate } from \"react-router-dom\";\r\nimport ProjectDataService from \"../../services/project.service\";\r\nimport App from \"../../App\"\r\n\r\n\r\nexport default function GetOneProject(props) {\r\n\r\n  //----------------------------REDIRECTION APRES VALIDATION du form-----------------------\r\n  const navigate = useNavigate();\r\n  useEffect(() => { //si le composant a été updated d'une manière quelconque (state) alors ca s'execute\r\n    if (redirect === true) {\r\n      navigate('/Projects');\r\n    }\r\n  });\r\n\r\n  // ----------------- Initialize State -------------------\r\n  const [project,setProject] = useState( //déclare project en tant que liste key/value\r\n    {\r\n      project_id: null,\r\n      project_name: \"\",\r\n      project_technologies: \"\",\r\n      project_description: \"\",\r\n      project_thumbnail_filename: \"\",\r\n      project_is_file_format: true,\r\n      project_release_filename: \"\",\r\n      project_release_url: \"\" \r\n    }\r\n  );\r\n\r\n  const [redirect,setRedirect] = useState (false);\r\n\r\n  // ----------------- Get request params -------------------\r\n  const { id } = useParams(); //Retrouve le paramètre id\r\n  // useEffect = quand le composant est inétgré dans le DOM \r\n  useEffect(()=>{ getProject(id); },[]) //notice the empty array here so it only happens once\r\n\r\n  const getProject = (id) => {\r\n    ProjectDataService.get(id)\r\n      .then(response => {\r\n        setProject(response.data);\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n  \r\n  const deleteProject = () => { //(parseInt(e.data-id, 10))\r\n\r\n    ProjectDataService.delete({id})      \r\n      .then(response => {\r\n        console.log(response.data);\r\n        setRedirect(true); //Redirection vers page virtuelle Project\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <App />\r\n      <div className=\"wrapper-discover\">\r\n        <div className=\"box-discover\">\r\n\r\n          {/* if is_granted('ROLE_ADMIN') */} \r\n          <button className=\"item-discover deleteProjectButton-project alertDisplayerDelete_JS\" \r\n            onClick={deleteProject}\r\n            data-id={id}\r\n            data-page=\"{{ path('app_delete_project',{id: project.id, _csrf_token: csrf_token('delete')}) }}\" \r\n          >Supprimer ce projet</button>\r\n\r\n          <span className=\"item-discover title-discover\">{ project.project_name }</span>\r\n\r\n          <span className=\"item-discover tag-discover\">{ project.project_technologies }</span>  \r\n\r\n          <span className=\"item-discover description-discover\">{ project.project_description }</span>\r\n\r\n          {/* for image in project.project_images \r\n            <img className=\"item-discover image-discover caroussel_JS\" src=\"{{ uploaded_asset(image.ImageFileName) }}\"></img>\r\n          {% endfor */}\r\n\r\n\r\n          {/* if project.isFileFormat == true %} \r\n            <a className=\"item-discover link-project\" href=\"{{ uploaded_asset(project.ProjectFileName) }}\" download>Télécharger</a>\r\n          {% else %}\r\n            <a className=\"item-discover link-project\" href=\"{{ project.urlProject }}\" download>Lien</a>\r\n          {% endif */}  \r\n\r\n        </div>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n "]},"metadata":{},"sourceType":"module"}