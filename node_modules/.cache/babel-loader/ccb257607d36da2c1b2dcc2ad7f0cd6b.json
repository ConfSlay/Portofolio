{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ricar\\\\Desktop\\\\nodejs-website\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ricar\\\\Desktop\\\\nodejs-website\\\\client\\\\src\\\\components\\\\Project\\\\GetAllProject.js\";\nimport React, { useState, useEffect } from 'react'; //React pour JSX\n\nimport { Link, useNavigate } from \"react-router-dom\";\nimport ProjectDataService from \"../../services/project.service\";\nimport App from \"../../App\";\nexport default function GetAllProject(props) {\n  var _this = this;\n\n  //----------------------------REDIRECTION APRES VALIDATION du form-----------------------\n  var navigate = useNavigate();\n  useEffect(function () {\n    //si le composant a été updated d'une manière quelconque (state) alors ca s'execute\n    if (redirect === true) {//window.location.reload(false);\n    }\n  }); //----------------------- Initial State -------------------------\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      projects = _useState2[0],\n      setProjects = _useState2[1]; //Déclare projects en tant qu'array vu qu'on va recevoir un tableau d'objets en json\n\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      redirect = _useState4[0],\n      setRedirect = _useState4[1]; // useEffect = quand le composant est inétgré dans le DOM \n\n\n  useEffect(function () {\n    retrieveProjects();\n  }, []); //notice the empty array here so it only happens once\n\n  var retrieveProjects = function retrieveProjects() {\n    ProjectDataService.getAll().then(function (response) {\n      setProjects(response.data);\n      console.log(response.data);\n    }).catch(function (e) {\n      console.log(e);\n    });\n  };\n\n  function deleteProject(e) {\n    //SWAL \n    ProjectDataService.delete(e).then(function (response) {\n      console.log(response.data);\n      setRedirect(true);\n    }).catch(function (e) {\n      console.log(e);\n    });\n  } // ----------------- JSX ---------------\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper-project\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, projects && projects.map(function (project) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-project\",\n      key: project.project_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"deleteProjectButton-project alertDisplayerDelete_JS\",\n      onClick: \"deleteProject.bind(project.project_id)\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, \"Supprimer ce projet\"), \"  \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"title-project\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, project.project_name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tag-project\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, project.project_technologies), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"image-project\",\n      src: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"link-project\",\n      to: \"/Project/\" + project.project_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"See More\"));\n  }), /*#__PURE__*/React.createElement(Link, {\n    className: \"buttonAdd-project\",\n    to: \"/Project/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"Ajouter un nouveau projet\")));\n}","map":{"version":3,"sources":["C:/Users/ricar/Desktop/nodejs-website/client/src/components/Project/GetAllProject.js"],"names":["React","useState","useEffect","Link","useNavigate","ProjectDataService","App","GetAllProject","props","navigate","redirect","projects","setProjects","setRedirect","retrieveProjects","getAll","then","response","data","console","log","catch","e","deleteProject","delete","map","project","project_id","project_name","project_technologies"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'; //React pour JSX\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport ProjectDataService from \"../../services/project.service\";\r\nimport App from \"../../App\"\r\n \r\nexport default function GetAllProject(props) {\r\n\r\n  //----------------------------REDIRECTION APRES VALIDATION du form-----------------------\r\n  const navigate = useNavigate();\r\n  useEffect(() => { //si le composant a été updated d'une manière quelconque (state) alors ca s'execute\r\n    if (redirect === true) {\r\n      //window.location.reload(false);\r\n    }\r\n  });\r\n\r\n  //----------------------- Initial State -------------------------\r\n  const [projects,setProjects] = useState([]); //Déclare projects en tant qu'array vu qu'on va recevoir un tableau d'objets en json\r\n  const [redirect,setRedirect] = useState(false);\r\n\r\n // useEffect = quand le composant est inétgré dans le DOM \r\n  useEffect(()=>{ retrieveProjects() },[]) //notice the empty array here so it only happens once\r\n\r\n  const retrieveProjects = () => {\r\n    ProjectDataService.getAll()\r\n      .then(response => {\r\n        setProjects(response.data);\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  function deleteProject(e){ \r\n    //SWAL \r\n    ProjectDataService.delete(e)      \r\n      .then(response => {\r\n        console.log(response.data);\r\n        setRedirect(true);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n\r\n  // ----------------- JSX ---------------\r\n  return (\r\n    <>\r\n      <App />\r\n      <div className=\"wrapper-project\">\r\n                   \r\n        {projects && projects.map((project) => (\r\n\r\n          <div className=\"item-project\" key={project.project_id}>\r\n\r\n            {/* if is_granted('ROLE_ADMIN') */}\r\n            <button className=\"deleteProjectButton-project alertDisplayerDelete_JS\" \r\n              onClick=\"deleteProject.bind(project.project_id)\"\r\n            >Supprimer ce projet</button>  {/* CRSF TOKEN */} \r\n\r\n            \r\n\r\n            <span className=\"title-project\">{project.project_name}</span>\r\n\r\n            <span className=\"tag-project\">{project.project_technologies}</span>\r\n\r\n            <img className=\"image-project\" src=\"\"></img>\r\n     \r\n            <Link className=\"link-project\" to={\"/Project/\" + project.project_id}>See More</Link>\r\n            \r\n          </div>\r\n\r\n        ))}\r\n\r\n        {/* if is_granted('ROLE_ADMIN') %} */}\r\n        <Link className=\"buttonAdd-project\" to=\"/Project/create\">Ajouter un nouveau projet</Link>\r\n\r\n        \r\n      </div>\r\n    </>\r\n  );\r\n}\r\n \r\n "]},"metadata":{},"sourceType":"module"}