{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ricar\\\\Desktop\\\\nodejs-website\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ricar\\\\Desktop\\\\nodejs-website\\\\client\\\\src\\\\components\\\\Project\\\\GetAllProject.js\";\nimport React, { useState, useEffect } from 'react'; //React pour JSX\n\nimport { Link, useNavigate } from \"react-router-dom\";\nimport ProjectDataService from \"../../services/project.service\";\nimport App from \"../../App\";\nexport default function GetAllProject(props) {\n  var _this = this;\n\n  //----------------------- Initial State -------------------------\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      projects = _useState2[0],\n      setProjects = _useState2[1]; //Déclare projects en tant qu'array vu qu'on va recevoir un tableau d'objets en json\n  // useEffect = quand le composant est inétgré dans le DOM \n\n\n  useEffect(function () {\n    retrieveProjects();\n  }, []); //notice the empty array here so it only happens once\n\n  var retrieveProjects = function retrieveProjects() {\n    ProjectDataService.getAll().then(function (response) {\n      setProjects(response.data);\n      console.log(response.data);\n    }).catch(function (e) {\n      console.log(e);\n    });\n  };\n\n  function deleteProject(id) {\n    //SWAL \n    ProjectDataService.delete(id).then(function (response) {\n      console.log(response.data);\n      setProjects(projects.filter(function (projects) {\n        return projects.project_id != id;\n      })); //enleve le project supprimé du state pour que ca refresh\n    }).catch(function (e) {\n      console.log(e);\n    });\n  }\n\n  function redirect(id) {\n    useNavigate(\"/Project/update/\" + id);\n  } // ----------------- JSX ---------------\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper-project\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, projects && projects.map(function (project) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-project\",\n      key: project.project_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons-project\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"deleteProjectButton-project alertDisplayerDelete_JS\",\n      onClick: deleteProject.bind(_this, project.project_id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, \"Delete project\"), \"  \", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"updateProjectButton-project\",\n      onClick: redirect.bind(_this, project.project_id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, \"Update project\"), \"  \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"title-project\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, project.project_name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tag-project\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, project.project_technologies), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"image-project\",\n      src: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"link-project\",\n      to: \"/Project/\" + project.project_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, \"See More\"));\n  }), /*#__PURE__*/React.createElement(Link, {\n    className: \"buttonAdd-project\",\n    to: \"/Project/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Ajouter un nouveau projet\")));\n}","map":{"version":3,"sources":["C:/Users/ricar/Desktop/nodejs-website/client/src/components/Project/GetAllProject.js"],"names":["React","useState","useEffect","Link","useNavigate","ProjectDataService","App","GetAllProject","props","projects","setProjects","retrieveProjects","getAll","then","response","data","console","log","catch","e","deleteProject","id","delete","filter","project_id","redirect","map","project","bind","project_name","project_technologies"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'; //React pour JSX\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport ProjectDataService from \"../../services/project.service\";\r\nimport App from \"../../App\"\r\n \r\nexport default function GetAllProject(props) {\r\n\r\n  //----------------------- Initial State -------------------------\r\n  const [projects,setProjects] = useState([]); //Déclare projects en tant qu'array vu qu'on va recevoir un tableau d'objets en json\r\n\r\n // useEffect = quand le composant est inétgré dans le DOM \r\n  useEffect(()=>{ retrieveProjects() },[]) //notice the empty array here so it only happens once\r\n\r\n  const retrieveProjects = () => {\r\n    ProjectDataService.getAll()\r\n      .then(response => {\r\n        setProjects(response.data);\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e); \r\n      });\r\n  }\r\n\r\n  function deleteProject(id){ \r\n    //SWAL \r\n    ProjectDataService.delete(id)      \r\n      .then(response => {\r\n        console.log(response.data);\r\n        setProjects(projects.filter(projects => projects.project_id != id)); //enleve le project supprimé du state pour que ca refresh\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  function redirect(id){\r\n    useNavigate(\"/Project/update/\"+id);\r\n  }\r\n  \r\n\r\n\r\n  // ----------------- JSX ---------------\r\n  return (\r\n    <>\r\n      <App />\r\n      <div className=\"wrapper-project\">\r\n                   \r\n        {projects && projects.map((project) => (\r\n\r\n          <div className=\"item-project\" key={project.project_id}>\r\n\r\n            <div className=\"buttons-project\"> {/* if is_granted('ROLE_ADMIN') */}\r\n              \r\n              <button className=\"deleteProjectButton-project alertDisplayerDelete_JS\" \r\n                onClick={deleteProject.bind(this, project.project_id)}\r\n              >Delete project</button>  {/* CRSF TOKEN */} \r\n\r\n              <button className=\"updateProjectButton-project\" \r\n                onClick={redirect.bind(this, project.project_id)}\r\n              >Update project</button>  {/* ->  CRSF TOKEN */}\r\n\r\n            </div>     \r\n\r\n            <span className=\"title-project\">{project.project_name}</span>\r\n\r\n            <span className=\"tag-project\">{project.project_technologies}</span>\r\n\r\n            <img className=\"image-project\" src=\"\"></img>\r\n     \r\n            <Link className=\"link-project\" to={\"/Project/\" + project.project_id}>See More</Link>\r\n            \r\n          </div>\r\n\r\n        ))}\r\n\r\n        {/* if is_granted('ROLE_ADMIN') %} */}\r\n        <Link className=\"buttonAdd-project\" to=\"/Project/create\">Ajouter un nouveau projet</Link>\r\n\r\n        \r\n      </div>\r\n    </>\r\n  );\r\n}\r\n \r\n "]},"metadata":{},"sourceType":"module"}